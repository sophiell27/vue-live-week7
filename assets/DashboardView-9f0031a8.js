import{_ as m,M as g,r as M,a as i,o as l,c as k,b as e,d as a,w as n,e as f,f as w,F as v,g as c}from"./index-60674962.js";const{VITE_API:h,VITE_PATH:I}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},x={data(){return{MessageModal:{},loginStatus:""}},components:{MessageModalComponent:g},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)week7Token\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.post(`${h}api/user/check`).then(s=>{this.loginStatus=!0}).catch(s=>{this.MessageModal.showMessage("驗證不成功，請重新登入！"),M.push("/")})},logout(){this.$http.post(`${h}logout`).then(t=>{this.MessageModal.showMessage("已登出"),this.$router.push("/")}).catch(t=>{this.MessageModal.showMessage("無法登出")})}},mounted(){this.checkLogin(),this.MessageModal=this.$refs.MessageModal}},V={class:"bg-dark text-white mb-5"},$={class:"container nav"},E={class:"container"};function T(t,s,C,R,d,r){const u=i("MessageModalComponent"),o=i("RouterLink"),p=i("RouterView");return l(),k(v,null,[e(u,{ref:"MessageModal"},null,512),a("nav",V,[a("div",$,[e(o,{class:"nav-link text-white",to:"/admin/orders/1"},{default:n(()=>[c("訂單")]),_:1}),e(o,{class:"nav-link text-white",to:"/admin/products/1"},{default:n(()=>[c("產品")]),_:1}),e(o,{class:"nav-link text-white",to:"/admin/coupons"},{default:n(()=>[c("優惠劵")]),_:1}),e(o,{class:"nav-link text-white",to:"/admin/articles"},{default:n(()=>[c("文章")]),_:1}),a("a",{class:"nav-link text-white ms-auto",href:"#",onClick:s[0]||(s[0]=(..._)=>r.logout&&r.logout(..._))},"登出")])]),a("div",E,[d.loginStatus?(l(),f(p,{key:0})):w("",!0)])],64)}const S=m(x,[["render",T]]);export{S as default};
